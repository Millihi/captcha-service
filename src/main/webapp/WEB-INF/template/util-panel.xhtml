<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  ~ "THE CAKE-WARE LICENSE" (Revision 42):                                   ~
  ~                                                                          ~
  ~     Milfie <mail@milfie.uu.me> wrote this file. As long as you retain    ~
  ~ this notice you can do whatever you want with this stuff. If we meet     ~
  ~ some day, and you think this stuff is worth it, you must buy me a cake   ~
  ~ in return.                                                               ~
  ~                                                                          ~
  ~     Milfie.                                                              ~
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

   <f:loadBundle
      var="UPMS"
      basename="projects.milfie.captcha.i18n.InfoMessageBundle" />

   <h:panelGrid columns="1"
                styleClass="menu component-form">

      <f:facet name="caption">#{UPMS['ui.module.caption']}</f:facet>

      <h:form styleClass="header-buttons user"
              rendered="#{request.userPrincipal ne null}">

         <h:outputText
            styleClass="user-name"
            value="#{request.userPrincipal.name}" />
         <h:commandButton
            styleClass="user-logout"
            value="#{gbms['ui.button.logout']}"
            action="/logout?faces-redirect=true" />

      </h:form>
      <h:form styleClass="header-buttons locale">

         <h:selectOneMenu
            styleClass="locale-selector"
            value="#{localeKeeperBean.language}">
            <f:selectItems
               var="item"
               itemValue="#{item.language}"
               itemLabel="#{item.getDisplayLanguage (localeKeeperBean.locale)}"
               value="#{localeKeeperBean.locales}" />
         </h:selectOneMenu>
         <h:commandButton
            styleClass="locale-change"
            value="#{gbms['ui.button.ok']}"
            action="#{localeKeeperBean.submit}" />

      </h:form>

   </h:panelGrid>

</ui:composition>
